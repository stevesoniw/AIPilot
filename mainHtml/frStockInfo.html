<!-- AI가 말해주는 주식 정보(해외) 시작-->                
<div id="menua" class="menu-cont">
    <h2 class="s-tit">AI가 말해주는 주식 정보 [해외]</h2>
    <h3 class="s-tit mb0">
        AI가 제공하는 심층 분석을 통해 투자의 인사이트를 얻어보세요!
    </h3>
    <ul class="list-bullet small">
        <li>Tip : 종목코드가 기억 나지 않는다면? 하단 검색창에 회사명을 한글(애플)이나 영어(APPLE)로 입력하면 이에 맞는 종목코드(AAPL)를 찾아줍니다.<br />(※ 종목에 따라 데이터가 일부 조회되지 않을 수 있어요.)</li>
    </ul>
    <!-- <h3 class="s-tit">AI가 제공하는 심층 분석을 통해 투자의 인사이트를 얻어보세요!<p></p>
    <p>Tip : 종목코드가 기억 나지 않는다면? 하단 검색창에 회사명을 한글(애플)이나 영어(APPLE)로 입력하면 이에 맞는 종목코드(AAPL)를 찾아줍니다. 
    <br/> (※ 종목에 따라 데이터가 일부 조회되지 않을 수 있어요.)</p>
    </h3> -->
    <div class="input-container">
        <!--<input type="text" id="ticker" placeholder="(예 : AAPL) " class="input-ticker">-->                         
        <!-- <div class="foreign-search-box" data-select2-id="2692">
            <select id="foreign_ticker" style="width: 100%" data-select2-id="foreign_ticker" tabindex="-1" class="select2-hidden-accessible" aria-hidden="true"></select>
        </div>              -->
        <div class="flex-between gap30 mt30 mb30">
            <div class="search-wrap">
                <div class="search-area">
                    <div class="search-ipt-wrap">
                        <input type="text" id="foreign_ticker" class="search-ipt" placeholder="원하시는 종목을 검색해주세요." autocomplete="off" />
                        <div class="loader-small" style="display: none;"></div>
                        <div id="stockCodeAreas" class="stock-code-areas" style="display:none;"></div>
                        <a href="#" class="search-btn" onClick="processStockInfoActiveTabList();" ><span class="blind">검색</span></a>
                    </div>
                </div>
            </div>        
            <a href="#" class="btn-common medium download"  onclick="downloadExcelForStockCode(true);">종목코드 다운로드</a>        
        </div>
        <ul class="tab-wrap">
            <li id="getEarningInfo" class="tab-list">
                <a href="#" onclick="loadEarningData();">Earning Info (실적 데이터)</a>
            </li>
            <li id="getForeignStockNews" class="tab-list active">
                <a href="#" onclick="loadForeignStockNews();">News Info (뉴스 데이터)</a>
            </li>
            <li id="getStockInfo"  class="tab-list">
                <a href="#" onclick="loadBasicInfo();">Company Info (종목 데이터)</a>
            </li>
            <li  id="aiStockChat" class="tab-list">
                <a href="#" onclick="loadAiChat();">Ask AI Anything <span id="aiChatStatus">[준비중]</span></a>
            </li>
        </ul>

        <!-- <div class="foreign-buttons-container">
            <button class="earningBtn slt-search-opt-btn" id="getEarningInfo" onclick="loadEarningData();">Earning Info (실적 데이터)</button>                               
            <button class="foreignNewsBtn slt-search-opt-btn" id="getForeignStockNews" onclick="loadForeignStockNews();">News Info (뉴스 데이터)</button>
            <button class="basicInfoBtn slt-search-opt-btn" id="getStockInfo" onclick="loadBasicInfo();">Stock Info (종목 데이터)</button>
            <button class="aiChatBtn slt-search-opt-btn" id="aiStockChat" onclick="loadAiChat();">Ask AI Anything <span id="aiChatStatus">[준비중]</span></button>
        </div> -->
    </div>
    <!-- <div class="dotted-line"></div>  -->
    <div class="textbox-common" id="stockinfo_total">
        종목기본정보 텍스트 박스<br />종목기본정보 텍스트 박스
    </div>    

    <!-- AI가 말해주는 주식 정보 [#1 실적 데이터]-->
    <div id="loading_bar_fingpt" class="loading_bar" style="margin-left: 0px;">
        <img src="/static/assets/images/LoadingBar_C.gif">
        <p class="loading-text-foreignnews">데이터 로딩중입니다.</p>
    </div>                      
    <div class="gpt-chart-area" id="fingptChartArea" style="display: none;">
        <div class="gpt-chart-flex">        
            <div>
                <img id="earningsChart" alt="Earnings Chart">
            </div>
            <div>
                <img id="recommendationsChart" alt="Recommendations Chart">
            </div>
        </div>            
    </div>
    <div id="gptEarningTableArea" style="display: none;">
        <div class="earning-title-container">
            <h2>최근 실적발표 데이터 정리</h2>
        </div>
        <table class="earning-table">
            <caption>최근 실적발표 데이터</caption>
            <thead>
                <tr>
                    <th scope="col" class="earning-header-content">내용</th>
                    <th scope="col" >최근 분기</th>
                    <th scope="col" >YoY(%,달러)</th>
                    <th scope="col" >QoQ(%,달러)</th>
                    <th scope="col" >컨센 beat/miss</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>매출액</td>
                    <td id="latest_quarter_revenue"></td>
                    <td id="revenue_yoy_percentage"></td>
                    <td id="revenue_qoq_percentage"></td>
                    <td id="revenue_beat_miss_ratio"></td>
                </tr>
                <tr>
                    <td>영업이익</td>
                    <td id="latest_quarter_operating_income"></td>
                    <td id="operating_income_yoy_percentage"></td>
                    <td id="operating_income_qoq_percentage"></td>
                    <td id="eps_beat_miss_ratio"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="gpt-message-area" id="gptMessageArea" style="display: none;">
        <div id="analysisResultBox" class="result-box">
            <p class="info-header" id="message1">최근 실적발표가 있었던 경우에는, <span class="highlight">실적발표 전/후 반응</span>을 나누어 비교 분석합니다. 실적 발표 예정인 경우에는 이전 정보 기준으로만 분석합니다.</p>
            <div id="companyInfo"></div>
            <div id="analysisResult"></div>

            <div class="btn-wrap mt30">
                <a href="#" id="aiAnalysisBtn" class="btn-common medium">AI 분석의 근거정보 보기</a>
            </div>            

        </div>
        <div id="newsAnalysisBox" class="result-box" style="display:none;">
            <p class="info-header">AI분석의 <span class="highlight">[근거가 되는 정보]</span>는 아래와 같습니다. (<span class="highlight">최신 영문 기사</span> 기반으로 수행되었습니다.)</p>
            <div id="newsAnalysis"></div>
        </div>
    </div>
    <div class="highstock-instruction" id="gptStockwaveArea" style="display:none;">        
        <div>
            <p class="info-header"> <span class="highlight">최근 1년 주가 흐름과 거래량 추이</span>를 참조하세요.</p>
            <img id="stockwaveChart" alt="1년 주가 흐름과 거래량">
        </div>         
    </div>                    
    <!-- AI가 말해주는 주식 정보 [#2 뉴스(소셜) 데이터]-->
    <div id="loading_bar_foreignnews" class="loading_bar_foreignnews">
        <div class="loading_content">
            <img src="/static/assets/images/LoadingBar_D.gif" alt="Loading...">
            <p class="loading-text-foreignnews" id="loading-text-foreignnews">데이터 로딩중입니다.</p>
        </div>
    </div>  
    <div id="foreignTickerNewsSum" class="news-summary-container"></div>
    <div id="foreignTickerNewsArea"></div>
    <div id="fomc-press-releases"></div>

    <!-- AI가 말해주는 주식 정보 [#3 종목 기본정보]-->
    <div id="loading_bar_stockbasic" class="loading_bar_stockbasic" style="margin-left: 0px;">
        <img src="/static/assets/images/LoadingBar_C.gif">
        <p class="loading-text-stockbasic">데이터 로딩중입니다.</p>
    </div>    
    <div class="stockBasic-input-container" id="stockBasic">
        <div class="infoSection">
            <div id="stockBasic_company_info"></div>
        </div>
        <div class="chartSection">
            <div id="annualFinancialsChart" style="height: 50%; overflow: hidden;"></div>
            <div id="quarterlyGrowthChart" style="height: 50%; overflow: hidden;"></div>
        </div>
        <div class="financialSection">
            <div class="financial-title">
                <h2></h2>
            </div>
            <div id="stockBasic_finance_info"></div>
        </div>
    </div>
    <!-- AI가 말해주는 주식 정보 [#4 ASK AI Anything]-->     
    <div id="chatApp" style="display:none;">
        <div id="chatTitle">
            <span>AI TALK</span>
            <div class="current-status-container">
                <span>[Currently :</span>
                <button id="currentModeButton">GPT4 Talk</button>
                <span>]</span>
            </div>
            <div class="setting-buttons-container">
                <img src="/static/assets/images/reset2.png" alt="Reset" id="resetButton" onclick="resetClassification();">
                <img src="/static/assets/images/settings.png" alt="Settings" id="settingsButton" onclick="toggleSettingsModal();">
                <img src="/static/assets/images/close.png" alt="Close" id="closeButton" onclick="closeChatApp();">
            </div>
        </div>
        <div id="chatMessages"></div>
        <div id="loading_bar_chatting" class="loading_bar_chatting">
            <img src="/static/assets/images/LoadingBar_D.gif">
            <p class="loading-text-chatting">채팅 기능 설정중입니다. 잠시만 기다려주세요!</p>
        </div>                        
        <input type="text" id="chatInput" placeholder="메시지를 입력하세요!">
        <!--채팅창의 설정창 모달팝업-->
        <div id="settingsModal" style="display:none;">
            <div class="modal-content">
                <div class="modal-header">
                    AI 와의 대화를 위한 설정 영역입니다
                    <img src="/static/assets/images/close3.png" alt="Close" id="modalCloseButton" onclick="closeSettingsModal();" style="cursor: pointer;">
                </div>
                <div class="modal-body">
                    <label class="custom-radio">
                        <input type="radio" name="aiOption" value="gpt4" checked>
                        일반 GPT4 TALK
                        <span class="hint">※ 반드시 hallucination(거짓말) 에 주의해주세요. 해당 사이트에서는 책임지지 않습니다.</span>
                    </label>
                    <label class="custom-radio">
                        <input type="radio" name="aiOption" value="aiQuery">
                        위에 조회한 내용을 기반으로 한 AI 질의
                        <span class="hint">※ 활용법 예시: '위 내용을 요약하고 너의 의견을 줘!' (*데이터 조회 후 선택해주세요)</span>
                    </label>
                    <label class="custom-radio">
                        <input type="radio" name="aiOption" value="webBased">
                        특정 웹사이트를 기반으로 한 AI 질의
                        <input type="text" placeholder="예: https://www.federalreserve.gov/newsevents/speeches.htm" class="url-input">
                    </label>
                    <!--<label class="custom-radio">
                        <input type="radio" name="aiOption" value="youtubeBased">
                        특정 유튜브를 기반으로 한 AI 질의
                        <input type="text" placeholder="예: https://youtu.be/B_UeeNcsuyM" class="url-input">
                    </label>-->
                    <label class="custom-radio">
                        <input type="radio" name="aiOption" value="googleBased">
                        구글 검색을 바탕으로 한 질의
                    </label>
                    <div class="modal-footer">
                        <button type="button" id="saveButton" onclick="toggleSettingsModal();">Save</button>
                    </div>                                  
                </div>
                
            </div>
        </div>
        <div id="dataOutput"></div>
    </div>                    
</div> 
